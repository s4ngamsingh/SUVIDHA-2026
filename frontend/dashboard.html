<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SUVIDHA | Citizen Dashboard</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{
      --primary:#0ea5e9;
      --dark:#020617;
      --glass:rgba(255,255,255,0.12);
      --white:rgba(255,255,255,0.9);
    }

    *{box-sizing:border-box;font-family:'Inter',sans-serif;}

    body{
      margin:0;
      min-height:100vh;
      background:linear-gradient(135deg,#020617,#0f172a,#0ea5e9);
      color:#fff;
      display:flex;
      justify-content:center;
      align-items:center;
    }

    .wrapper{
      width:95%;
      max-width:1200px;
      padding:40px;
      backdrop-filter:blur(20px);
      background:rgba(255,255,255,0.08);
      border-radius:30px;
      box-shadow:0 30px 60px rgba(0,0,0,0.4);
      animation:fadeIn .8s ease;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:40px;
    }

    header h1{
      font-size:32px;
    }

    .user-box{
      display:flex;
      align-items:center;
      gap:20px;
    }

    .user-info{
      background:var(--white);
      color:#020617;
      padding:12px 22px;
      border-radius:999px;
      font-weight:600;
    }

    .logout-btn{
      padding:12px 22px;
      border:none;
      border-radius:999px;
      font-weight:600;
      cursor:pointer;
      background:#ef4444;
      color:white;
      transition:.3s;
    }

    .logout-btn:hover{
      transform:scale(1.05);
      box-shadow:0 10px 25px rgba(0,0,0,0.3);
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
      gap:30px;
      margin-top:20px;
    }

    .card{
      background:var(--glass);
      backdrop-filter:blur(16px);
      border-radius:24px;
      padding:40px 25px;
      text-align:center;
      cursor:pointer;
      transition:.35s;
    }

    .card:hover{
      transform:translateY(-10px) scale(1.04);
      box-shadow:0 20px 40px rgba(0,0,0,0.4);
    }

    .icon{
      font-size:40px;
      margin-bottom:20px;
      color:#22c55e;
    }

    .card h2{
      margin-bottom:8px;
    }

    .card p{
      font-size:14px;
      opacity:.85;
    }

    footer{
      text-align:center;
      margin-top:40px;
      font-size:13px;
      opacity:.8;
    }

    @keyframes fadeIn{
      from{opacity:0;transform:translateY(20px)}
      to{opacity:1;transform:translateY(0)}
    }
  </style>
</head>

<body>

<div class="wrapper">

  <header>
    <h1>Citizen Dashboard</h1>
    <div class="user-box">
      <div class="user-info" id="userInfo">Welcome</div>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
  </header>

  <section class="grid">

    <div class="card" onclick="go('services')">
      <div class="icon"><i class="fas fa-file-signature"></i></div>
      <h2>Apply for Service</h2>
      <p>New connections & service requests</p>
    </div>

    <div class="card" onclick="go('complaint')">
      <div class="icon"><i class="fas fa-exclamation-circle"></i></div>
      <h2>Register Complaint</h2>
      <p>Report issues & grievances</p>
    </div>

    <div class="card" onclick="go('status')">
      <div class="icon"><i class="fas fa-search"></i></div>
      <h2>Track Status</h2>
      <p>Check application progress</p>
    </div>

    <div class="card" onclick="go('bill')">
      <div class="icon"><i class="fas fa-receipt"></i></div>
      <h2>Pay & Download Bill</h2>
      <p>View consumption & receipts</p>
    </div>

  </section>

  <footer>
    Government of India ‚Ä¢ Smart City Mission ‚Ä¢ C-DAC
  </footer>

</div>

<script>

  // üîê Protect Dashboard
  const token = localStorage.getItem("token");
  const user = JSON.parse(localStorage.getItem("user"));

  if(!token){
    window.location.href = "login.html";
  }

  if(user){
    document.getElementById("userInfo").innerText =
      "Welcome, " + user.name;
  }

  // üö™ Logout
  function logout(){
    localStorage.removeItem("token");
    localStorage.removeItem("user");
    window.location.href = "login.html";
  }

  // üìå Navigation Flow
  function go(page){
    if(page === "services"){
      window.location.href = "services.html";
    }
    if(page === "complaint"){
      window.location.href = "complaint.html";
    }
    if(page === "status"){
      window.location.href = "status.html";
    }
    if(page === "bill"){
      window.location.href = "bill-payment.html";
    }
  }

</script>

</body>
</html>
